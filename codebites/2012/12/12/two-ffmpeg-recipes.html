<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>2 ffmpeg recipes - timelapse videos and rescaling videos</title>


   <link rel="stylesheet" href="css/syntax.css" type="text/css" />
   <link rel="stylesheet" href="css/screen.css" type="text/css" media="screen, projection" />
   <link href="http://fonts.googleapis.com/css?family=Duru+Sans" rel="stylesheet" type="text/css" />
</head>
<body>

<div class="site">
  <div class="title">
    <h1>Codebites</h1> by HH Veldstra<br/>
  </div>

  <div id="post">
<h1>creating a timelapse video:</h1>

<pre><code>    #!/bin/bash
    # a script to create a timelapse gif out of a video
    # Usage: timelapse.sh &lt;input&gt; &lt;output&gt; &lt;frames&gt;
    # frames is the number of frames per second (1 = fastest, 10 is slower etc)
    mkdir /tmp/timelapse_tmp
    ffmpeg -i $1 -r $3 -f image2 /tmp/timelapse_tmp/%05d.png
    ffmpeg -i /tmp/timelapse_tmp/%05d.png -b 512000 $2
    rm -rf /tmp/timelapse_tmp
</code></pre>

<h1>rescaling a video:</h1>

<p>Turns out rescaling a video is not as straightforward as it might seem, there isn't a single recipe that'll work for everyone. You will have to experiment, however this is a good start:</p>

<pre><code>    ffmpeg -i INPUT.mov -vf "scale=356:278:flags=spline,unsharp=2.5:2.5:1.5" -b:v 256k OUTPUT.mov
</code></pre>

<p>356 is width and 278 is obviously height - replace these with what you need (either can be set to -1 to keep the aspect ratio). "spline" is the scaling method to use, and seemed to work better for me than the default one (full list of scaling methods can be seen here: <a href="http://gitorious.org/libswscale/mainline/blobs/master/options.c">http://gitorious.org/libswscale/mainline/blobs/master/options.c</a>)</p>

</div>

<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li><span>12 Nov 2012</span> &raquo; <a href="/2012/11/12/django-i18n-checklist.html">Django i18n checklist</a></li>
    
  </ul>
</div>

  <div class="footer">
  </div>
</div>
</body>
</html>
