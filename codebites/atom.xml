<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

 <title>Codebites by HH Veldstra</title>
 <link href="http://veldstra.org/codebites/atom.xml" rel="self"/>
 <link href="http://veldstra.org/"/>
 <updated>2012-12-12T10:54:00+00:00</updated>
 <id>http://veldstra.org/</id>
 <author>
   <name>HH Veldstra</name>
   <email>h@veldstra.org</email>
 </author>

 
 <entry>
   <title>2 ffmpeg recipes - timelapse videos and rescaling videos</title>
   <link href="http://veldstra.org/codebites//2012/12/12/two-ffmpeg-recipes.html"/>
   <updated>2012-12-12T00:00:00+00:00</updated>
   <id>http://veldstra.org/codebites//2012/12/12/two-ffmpeg-recipes</id>
   <content type="html">&lt;h1&gt;creating a timelapse video:&lt;/h1&gt;

&lt;pre&gt;&lt;code&gt;    #!/bin/bash
    # a script to create a timelapse gif out of a video
    # Usage: timelapse.sh &amp;lt;input&amp;gt; &amp;lt;output&amp;gt; &amp;lt;frames&amp;gt;
    # frames is the number of frames per second (1 = fastest, 10 is slower etc)
    mkdir /tmp/timelapse_tmp
    ffmpeg -i $1 -r $3 -f image2 /tmp/timelapse_tmp/%05d.png
    ffmpeg -i /tmp/timelapse_tmp/%05d.png -b 512000 $2
    rm -rf /tmp/timelapse_tmp
&lt;/code&gt;&lt;/pre&gt;

&lt;h1&gt;rescaling a video:&lt;/h1&gt;

&lt;p&gt;Turns out rescaling a video is not as straightforward as it might seem, there isn't a single recipe that'll work for everyone. You will have to experiment, however this is a good start:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    ffmpeg -i INPUT.mov -vf &quot;scale=356:278:flags=spline,unsharp=2.5:2.5:1.5&quot; -b:v 256k OUTPUT.mov
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;356 is width and 278 is obviously height - replace these with what you need (either can be set to -1 to keep the aspect ratio). &quot;spline&quot; is the scaling method to use, and seemed to work better for me than the default one (full list of scaling methods can be seen here: &lt;a href=&quot;http://gitorious.org/libswscale/mainline/blobs/master/options.c&quot;&gt;http://gitorious.org/libswscale/mainline/blobs/master/options.c&lt;/a&gt;)&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Django i18n checklist</title>
   <link href="http://veldstra.org/codebites//2012/11/12/django-i18n-checklist.html"/>
   <updated>2012-11-12T00:00:00+00:00</updated>
   <id>http://veldstra.org/codebites//2012/11/12/django-i18n-checklist</id>
   <content type="html">&lt;p&gt;I had to debug an i18n issue in a Django app recently and came up with this checklist. Hope it helps someone else:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;USE_I18N = True in settings.py?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;USE_L10N = True in settings.py?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;django.core.context_processors.i18n is in TEMPLATE_CONTEXT_PROCESSORS?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;django.middleware.locale.LocaleMiddleware is in MIDDLEWARE_CLASSES?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;OR, if using django-cms: cms.middleware.multilingual.MultilingualURLMiddleware is in MIDDLEWARE_CLASSES?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;if using django-cms: cms.middleware.multilingual.MultilingualURLMiddleware is &lt;em&gt;right below&lt;/em&gt; session middleware?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#123;% load i18n %&amp;#125; is included in every template using translations? (even templates that inherit from other templates that load that tag &lt;em&gt;must&lt;/em&gt; include it)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&amp;#123;% trans %&amp;#125; is actually used to translate messages?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Message files (*.po) exist and can be found? Check:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;LOCALE_PATHS in settings.py&lt;/li&gt;
&lt;li&gt;&quot;locale&quot; directory for each of the apps in INSTALLED_APPS&lt;/li&gt;
&lt;li&gt;Default base translations&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 

</feed>